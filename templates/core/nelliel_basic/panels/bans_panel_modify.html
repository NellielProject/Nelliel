{{% FILTERS }}
<form accept-charset="utf-8" action="{{ form_action }}" method="post" enctype="multipart/form-data">
	<input type="hidden" name="ban_hashed_ip" value="{{ hashed_ip_address }}">
	<div class="display-table">
		<div class="display-row">
			<span class="display-cell">
				<span data-i18n="gettext">Ban was set by:</span>
				<span id="ban-name-display">{{ creator }}</span>
			</span>
		</div>
		<div class="display-row">
			<span class="display-cell">
				<span data-i18n="gettext">Ban set on:</span>
				<span>{{ start_time_formatted }}</span>
			</span>
		</div>
		<div class="display-row">
			<span class="display-cell">
				<span data-i18n="gettext">Ban expires on:</span>
				<span>{{ expiration }}</span>
			</span>
		</div>
		<div class="display-row">
			<span class="display-cell">
				<span data-i18n="gettext">Ban type:</span>
				<span>{{ ban_type }}</span>
			</span>
		</div>
		<div class="display-row">
			<span class="display-cell">
				<label for="address_type" data-i18n="gettext">IP type:</label>
			</span>
			<span class="display-cell">
				<select id="address_type" name="address_type">
					<option value="single" data-i18n="gettext">Single IP</option>
					<option value="range" data-i18n="gettext">IP range</option>
					<option value="hash" data-i18n="gettext">IP hash</option>
				</select>
			</span>
		</div>
		<div class="display-row">
			<span class="display-cell">
				<label for="ban_ip_start" data-i18n="gettext">IP address or range start:</label>
			</span>
			<span class="display-cell">
				<input id="ban_ip_start" type="text" name="ban_ip_start" value="{{ ban_ip_start }}">
			</span>
		</div>
		<div class="display-row">
			<span class="display-cell">
				<label for="ban_ip_end" data-i18n="gettext">IP range end:</label>
			</span>
			<span class="display-cell">
				<input id="ban_ip_end" type="text" name="ban_ip_end" value="{{ ban_ip_end }}">
			</span>
		</div>
		<div class="display-row">
			<span class="display-cell">
				<label for="ban_hashed_ip" data-i18n="gettext">IP hash:</label>
			</span>
			<span class="display-cell">
				<input id="ban_hashed_ip" type="text" name="ban_hashed_ip" value="{{ ban_hashed_ip }}">
			</span>
		</div>
		<div class="display-row">
			<span class="display-cell">
				<label for="ban_board" data-i18n="gettext">Apply ban to this board:</label>
			</span>
			<span class="display-cell">
				<input id="ban_board"  type="text" name="ban_board" value="{{ ban_board }}">
			</span>
		</div>
		<div class="display-row">
			<span class="display-cell">
				<input type="hidden" name="ban_all_boards[default]" value="0">
				<input id="ban_all_boards" type="checkbox" name="ban_all_boards[value]" value="1" {{ all_boards }}>
				<label for="ban_all_boards" data-i18n="gettext">Ban from all boards. This overrides any specific boards.</label>
			</span>
		</div>
		<div class="display-row">
			<span class="display-cell" data-i18n="gettext">Ban length:</span>
			<span class="display-cell">
				<label for="ban_time_years" data-i18n="gettext">Years</label>
				<input id="ban_time_years" type="number" name="ban_time_years" size="6" value="0">&nbsp;&nbsp;&nbsp;
				<label for="ban_time_days" data-i18n="gettext">Days</label>
				<input id="ban_time_days" type="number" name="ban_time_days" size="6" value="0">&nbsp;&nbsp;&nbsp;
			</span>
		</div>
		<div class="display-row">
			<span class="display-cell"></span>
			<span class="display-cell">
				<label for="ban_time_hours" data-i18n="gettext">Hours</label>
				<input id="ban_time_hours"  type="number" name="ban_time_hours" size="6" value="0">&nbsp;&nbsp;&nbsp;
				<label for="ban_time_minutes" data-i18n="gettext">Minutes</label>
				<input id="ban_time_minutes"  type="number" name="ban_time_minutes" size="6" value="0">&nbsp;&nbsp;&nbsp;
			</span>
		</div>
		<div class="display-row">
			<span class="display-cell">
				<input type="hidden" name="ban_id" value="{{ ban_id }}">
				<input id="ban-start-field" type="hidden" name="ban_start_time" value="{{ start_time }}">
			</span>
		</div>
		<div class="display-row">
			<span class="display-cell">
				<label for="ban_reason" data-i18n="gettext">Ban reason (optional):</label>
			</span>
			<span class="display-cell">
				<textarea id="ban_reason" name="ban_reason" cols="32" rows="3"></textarea>
			</span>
		</div>
		<div class="display-row">
			<span class="display-cell">
				<span data-i18n="gettext">Appeal</span>
			</span>
			<span class="display-cell">{{ appeal }}</span>
		</div>
		<div class="display-row">
			<span class="display-cell">
				<label for="ban-appeal-response" data-i18n="gettext">Appeal Response</label>
			</span>
			<span class="display-cell">
				<textarea id="ban-appeal-response" name="ban_appeal_response" cols="32" rows="3">{{ appeal_response }}</textarea>
			</span>
		</div>
		<div class="display-row">
			<span class="display-cell">
				<label for="address_type" data-i18n="gettext">Appeal status:</label>
			</span>
			<span class="display-cell">
				<select id="ban_appeal_status" name="ban_appeal_status">
					<option value="0" data-i18n="gettext" {{ appeal_status_0 }}>No appeal received</option>
					<option value="1" data-i18n="gettext" {{ appeal_status_1 }}>Appeal received; not reviewed</option>
					<option value="2" data-i18n="gettext" {{ appeal_status_2 }}>Appeal denied</option>
					<option value="3" data-i18n="gettext" {{ appeal_status_3 }}>Appeal accepted; ban modified</option>
				</select>
			</span>
		</div>
		<div class="display-row">
			<span class="display-cell">
				<input type="submit" value="Update Ban" data-i18n-attributes="gettext|value">
			</span>
		</div>
	</div>
</form>